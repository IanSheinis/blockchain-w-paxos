✓ Loaded 1 blocks from p5.json
✓ Rebuilt balances from 1 blocks
============================================================
Starting Process P5
============================================================

Process P5: Server listening on port 9999
Process P5: Received PREPARE from P1
Current acceptor.prepare
bal: 0
self.BallotNum: -1
proposer_depth: 2
depth: 1
Sending response: {'type': 'PREPARE_PROMISE', 'from': 'P5', 'ballot_num': 0, 'accepted_ballot': -1, 'accepted_value': {}}
Process P5: Received ACCEPT from P1
Process P5: ACCEPTED ballot 0, value (full blockchain not just block): '{'blockchain': [{'sender_id': 'P1', 'receiver_id': 'P2', 'amount': 10, 'hash_pointer': '0000000000000000000000000000000000000000000000000000000000000000', 'nonce': '0vgj5w3ZB46MGI8z', 'hash_result': '90cd9df81b349bcb45cc43d9543a6de19f9c0bbc9877565c48b5e4e413a64cf3', 'tentative': False}, {'sender_id': 'P1', 'receiver_id': 'P2', 'amount': 10, 'hash_pointer': '562016e2d716b2123bfd43fcabccf81d8e247bbb64b277429e9645d7fceb51dc', 'nonce': 'Aeb1KaGF2K9nho7H', 'hash_result': '2bee451bab90d7b5699af1b93cffe934f54df70e75682ce81f45fa35f29be701', 'tentative': True}]}'
Process P5: Updating blockchain from length 1 to 2
✓ Rebuilt balances from 2 blocks
Process P5: Blockchain updated! New length: 2
✓ Blockchain saved to p5.json
Sending response: {'type': 'ACCEPT_ACCEPTED', 'from': 'P5', 'ballot_num': 0, 'accepted_value': {'blockchain': [{'sender_id': 'P1', 'receiver_id': 'P2', 'amount': 10, 'hash_pointer': '0000000000000000000000000000000000000000000000000000000000000000', 'nonce': '0vgj5w3ZB46MGI8z', 'hash_result': '90cd9df81b349bcb45cc43d9543a6de19f9c0bbc9877565c48b5e4e413a64cf3', 'tentative': False}, {'sender_id': 'P1', 'receiver_id': 'P2', 'amount': 10, 'hash_pointer': '562016e2d716b2123bfd43fcabccf81d8e247bbb64b277429e9645d7fceb51dc', 'nonce': 'Aeb1KaGF2K9nho7H', 'hash_result': '2bee451bab90d7b5699af1b93cffe934f54df70e75682ce81f45fa35f29be701', 'tentative': True}]}}
Process P5: Received DECISION from P1
Process P5: Processing DECISION from P1, ballot 0
Process P5: Updating blockchain from length 2 to 2
✓ Rebuilt balances from 2 blocks
Process P5: Blockchain updated! New length: 2
✓ Blockchain saved to p5.json
Process P5: Resetting proposer state and cancelling tasks
Process P5: Proposer reset complete
Process P5: Received PREPARE from P1
Current acceptor.prepare
bal: 0
self.BallotNum: -1
proposer_depth: 3
depth: 2
Sending response: {'type': 'PREPARE_PROMISE', 'from': 'P5', 'ballot_num': 0, 'accepted_ballot': -1, 'accepted_value': {}}
Process P5: Received PREPARE from P2
Current acceptor.prepare
bal: 0
self.BallotNum: 0
proposer_depth: 3
depth: 2
Sending response: {'type': 'PREPARE_REJECT', 'from': 'P5', 'ballot_num': 0, 'promised_ballot': 0}
Process P5: Received ACCEPT from P1
Process P5: ACCEPTED ballot 0, value (full blockchain not just block): '{'blockchain': [{'sender_id': 'P1', 'receiver_id': 'P2', 'amount': 10, 'hash_pointer': '0000000000000000000000000000000000000000000000000000000000000000', 'nonce': '0vgj5w3ZB46MGI8z', 'hash_result': '90cd9df81b349bcb45cc43d9543a6de19f9c0bbc9877565c48b5e4e413a64cf3', 'tentative': False}, {'sender_id': 'P1', 'receiver_id': 'P2', 'amount': 10, 'hash_pointer': '562016e2d716b2123bfd43fcabccf81d8e247bbb64b277429e9645d7fceb51dc', 'nonce': 'Aeb1KaGF2K9nho7H', 'hash_result': '2bee451bab90d7b5699af1b93cffe934f54df70e75682ce81f45fa35f29be701', 'tentative': False}, {'sender_id': 'P1', 'receiver_id': 'P2', 'amount': 10, 'hash_pointer': '4a533ca14e8fdc9ec0b444a146e5779914f98c8502f96ddfc1d147142b42b130', 'nonce': '2lb4hTTEpH715apl', 'hash_result': 'e4f72b5aeb1caa6ff2ffec79e75cd4726a578a764f25bb2794182a096962b643', 'tentative': True}]}'
Process P5: Updating blockchain from length 2 to 3
✓ Rebuilt balances from 3 blocks
Process P5: Blockchain updated! New length: 3
✓ Blockchain saved to p5.json
Sending response: {'type': 'ACCEPT_ACCEPTED', 'from': 'P5', 'ballot_num': 0, 'accepted_value': {'blockchain': [{'sender_id': 'P1', 'receiver_id': 'P2', 'amount': 10, 'hash_pointer': '0000000000000000000000000000000000000000000000000000000000000000', 'nonce': '0vgj5w3ZB46MGI8z', 'hash_result': '90cd9df81b349bcb45cc43d9543a6de19f9c0bbc9877565c48b5e4e413a64cf3', 'tentative': False}, {'sender_id': 'P1', 'receiver_id': 'P2', 'amount': 10, 'hash_pointer': '562016e2d716b2123bfd43fcabccf81d8e247bbb64b277429e9645d7fceb51dc', 'nonce': 'Aeb1KaGF2K9nho7H', 'hash_result': '2bee451bab90d7b5699af1b93cffe934f54df70e75682ce81f45fa35f29be701', 'tentative': False}, {'sender_id': 'P1', 'receiver_id': 'P2', 'amount': 10, 'hash_pointer': '4a533ca14e8fdc9ec0b444a146e5779914f98c8502f96ddfc1d147142b42b130', 'nonce': '2lb4hTTEpH715apl', 'hash_result': 'e4f72b5aeb1caa6ff2ffec79e75cd4726a578a764f25bb2794182a096962b643', 'tentative': True}]}}
Process P5: Received PREPARE from P3
Current acceptor.prepare
bal: 0
self.BallotNum: 0
proposer_depth: 3
depth: 3
Sending response: {'type': 'PREPARE_REJECT', 'from': 'P5', 'ballot_num': 0, 'promised_ballot': 0}
Process P5: Received transaction from master
Process P5: Proposing new block with transaction Transaction(sender_id='P5', receiver_id='P1', amount=10)
Process P5: Starting PREPARE with ballot 0
Process P5: Received DECISION from P1
Process P5: Processing DECISION from P1, ballot 0
Process P5: Updating blockchain from length 3 to 3
✓ Rebuilt balances from 3 blocks
Process P5: Blockchain updated! New length: 3
✓ Blockchain saved to p5.json
Process P5: Resetting proposer state and cancelling tasks
Process P5: Proposer reset complete
Process P5: Received PREPARE from P3
Current acceptor.prepare
bal: 0
self.BallotNum: -1
proposer_depth: 4
depth: 3
Sending response: {'type': 'PREPARE_PROMISE', 'from': 'P5', 'ballot_num': 0, 'accepted_ballot': -1, 'accepted_value': {}}
Process P5: Received PREPARE from P2
Current acceptor.prepare
bal: 0
self.BallotNum: 0
proposer_depth: 4
depth: 3
Sending response: {'type': 'PREPARE_REJECT', 'from': 'P5', 'ballot_num': 0, 'promised_ballot': 0}
Process P5: Received ACCEPT from P3
Process P5: ACCEPTED ballot 0, value (full blockchain not just block): '{'blockchain': [{'sender_id': 'P1', 'receiver_id': 'P2', 'amount': 10, 'hash_pointer': '0000000000000000000000000000000000000000000000000000000000000000', 'nonce': '0vgj5w3ZB46MGI8z', 'hash_result': '90cd9df81b349bcb45cc43d9543a6de19f9c0bbc9877565c48b5e4e413a64cf3', 'tentative': False}, {'sender_id': 'P1', 'receiver_id': 'P2', 'amount': 10, 'hash_pointer': '562016e2d716b2123bfd43fcabccf81d8e247bbb64b277429e9645d7fceb51dc', 'nonce': 'Aeb1KaGF2K9nho7H', 'hash_result': '2bee451bab90d7b5699af1b93cffe934f54df70e75682ce81f45fa35f29be701', 'tentative': False}, {'sender_id': 'P1', 'receiver_id': 'P2', 'amount': 10, 'hash_pointer': '4a533ca14e8fdc9ec0b444a146e5779914f98c8502f96ddfc1d147142b42b130', 'nonce': '2lb4hTTEpH715apl', 'hash_result': 'e4f72b5aeb1caa6ff2ffec79e75cd4726a578a764f25bb2794182a096962b643', 'tentative': False}, {'sender_id': 'P3', 'receiver_id': 'P4', 'amount': 10, 'hash_pointer': '1897964683b5a256276789a03f0205c84d1d4306ee0986a459d418b8b3c986ea', 'nonce': 'lWB3rLPlFiJw7nWw', 'hash_result': '4aa2d72085b33382659d9dc136b44cb1e1cacd6e37a30f96259e9e75d6ea3511', 'tentative': True}]}'
Process P5: Updating blockchain from length 3 to 4
✓ Rebuilt balances from 4 blocks
Process P5: Blockchain updated! New length: 4
✓ Blockchain saved to p5.json
Sending response: {'type': 'ACCEPT_ACCEPTED', 'from': 'P5', 'ballot_num': 0, 'accepted_value': {'blockchain': [{'sender_id': 'P1', 'receiver_id': 'P2', 'amount': 10, 'hash_pointer': '0000000000000000000000000000000000000000000000000000000000000000', 'nonce': '0vgj5w3ZB46MGI8z', 'hash_result': '90cd9df81b349bcb45cc43d9543a6de19f9c0bbc9877565c48b5e4e413a64cf3', 'tentative': False}, {'sender_id': 'P1', 'receiver_id': 'P2', 'amount': 10, 'hash_pointer': '562016e2d716b2123bfd43fcabccf81d8e247bbb64b277429e9645d7fceb51dc', 'nonce': 'Aeb1KaGF2K9nho7H', 'hash_result': '2bee451bab90d7b5699af1b93cffe934f54df70e75682ce81f45fa35f29be701', 'tentative': False}, {'sender_id': 'P1', 'receiver_id': 'P2', 'amount': 10, 'hash_pointer': '4a533ca14e8fdc9ec0b444a146e5779914f98c8502f96ddfc1d147142b42b130', 'nonce': '2lb4hTTEpH715apl', 'hash_result': 'e4f72b5aeb1caa6ff2ffec79e75cd4726a578a764f25bb2794182a096962b643', 'tentative': False}, {'sender_id': 'P3', 'receiver_id': 'P4', 'amount': 10, 'hash_pointer': '1897964683b5a256276789a03f0205c84d1d4306ee0986a459d418b8b3c986ea', 'nonce': 'lWB3rLPlFiJw7nWw', 'hash_result': '4aa2d72085b33382659d9dc136b44cb1e1cacd6e37a30f96259e9e75d6ea3511', 'tentative': True}]}}
Process P5: Received DECISION from P3
Process P5: Processing DECISION from P3, ballot 0
Process P5: Updating blockchain from length 4 to 4
✓ Rebuilt balances from 4 blocks
Process P5: Blockchain updated! New length: 4
✓ Blockchain saved to p5.json
Process P5: Resetting proposer state and cancelling tasks
Process P5: Proposer reset complete
Process P5: Received PREPARE from P2
Current acceptor.prepare
bal: 0
self.BallotNum: -1
proposer_depth: 5
depth: 4
Sending response: {'type': 'PREPARE_PROMISE', 'from': 'P5', 'ballot_num': 0, 'accepted_ballot': -1, 'accepted_value': {}}
Process P5: Received ACCEPT from P2
Process P5: ACCEPTED ballot 0, value (full blockchain not just block): '{'blockchain': [{'sender_id': 'P1', 'receiver_id': 'P2', 'amount': 10, 'hash_pointer': '0000000000000000000000000000000000000000000000000000000000000000', 'nonce': '0vgj5w3ZB46MGI8z', 'hash_result': '90cd9df81b349bcb45cc43d9543a6de19f9c0bbc9877565c48b5e4e413a64cf3', 'tentative': False}, {'sender_id': 'P1', 'receiver_id': 'P2', 'amount': 10, 'hash_pointer': '562016e2d716b2123bfd43fcabccf81d8e247bbb64b277429e9645d7fceb51dc', 'nonce': 'Aeb1KaGF2K9nho7H', 'hash_result': '2bee451bab90d7b5699af1b93cffe934f54df70e75682ce81f45fa35f29be701', 'tentative': False}, {'sender_id': 'P1', 'receiver_id': 'P2', 'amount': 10, 'hash_pointer': '4a533ca14e8fdc9ec0b444a146e5779914f98c8502f96ddfc1d147142b42b130', 'nonce': '2lb4hTTEpH715apl', 'hash_result': 'e4f72b5aeb1caa6ff2ffec79e75cd4726a578a764f25bb2794182a096962b643', 'tentative': False}, {'sender_id': 'P3', 'receiver_id': 'P4', 'amount': 10, 'hash_pointer': '1897964683b5a256276789a03f0205c84d1d4306ee0986a459d418b8b3c986ea', 'nonce': 'lWB3rLPlFiJw7nWw', 'hash_result': '4aa2d72085b33382659d9dc136b44cb1e1cacd6e37a30f96259e9e75d6ea3511', 'tentative': False}, {'sender_id': 'P2', 'receiver_id': 'P3', 'amount': 10, 'hash_pointer': 'bc279bfdeb1e7daf68d8a38a69bfe2d39e0866305a9bc19873473b08d313c005', 'nonce': 'zIjXd26YdvRvopNz', 'hash_result': 'b2f9332e825a857a8af08e284287ac309266a4bef7e0d2feeb59a75a5b8b2f63', 'tentative': True}]}'
Process P5: Updating blockchain from length 4 to 5
✓ Rebuilt balances from 5 blocks
Process P5: Blockchain updated! New length: 5
✓ Blockchain saved to p5.json
Sending response: {'type': 'ACCEPT_ACCEPTED', 'from': 'P5', 'ballot_num': 0, 'accepted_value': {'blockchain': [{'sender_id': 'P1', 'receiver_id': 'P2', 'amount': 10, 'hash_pointer': '0000000000000000000000000000000000000000000000000000000000000000', 'nonce': '0vgj5w3ZB46MGI8z', 'hash_result': '90cd9df81b349bcb45cc43d9543a6de19f9c0bbc9877565c48b5e4e413a64cf3', 'tentative': False}, {'sender_id': 'P1', 'receiver_id': 'P2', 'amount': 10, 'hash_pointer': '562016e2d716b2123bfd43fcabccf81d8e247bbb64b277429e9645d7fceb51dc', 'nonce': 'Aeb1KaGF2K9nho7H', 'hash_result': '2bee451bab90d7b5699af1b93cffe934f54df70e75682ce81f45fa35f29be701', 'tentative': False}, {'sender_id': 'P1', 'receiver_id': 'P2', 'amount': 10, 'hash_pointer': '4a533ca14e8fdc9ec0b444a146e5779914f98c8502f96ddfc1d147142b42b130', 'nonce': '2lb4hTTEpH715apl', 'hash_result': 'e4f72b5aeb1caa6ff2ffec79e75cd4726a578a764f25bb2794182a096962b643', 'tentative': False}, {'sender_id': 'P3', 'receiver_id': 'P4', 'amount': 10, 'hash_pointer': '1897964683b5a256276789a03f0205c84d1d4306ee0986a459d418b8b3c986ea', 'nonce': 'lWB3rLPlFiJw7nWw', 'hash_result': '4aa2d72085b33382659d9dc136b44cb1e1cacd6e37a30f96259e9e75d6ea3511', 'tentative': False}, {'sender_id': 'P2', 'receiver_id': 'P3', 'amount': 10, 'hash_pointer': 'bc279bfdeb1e7daf68d8a38a69bfe2d39e0866305a9bc19873473b08d313c005', 'nonce': 'zIjXd26YdvRvopNz', 'hash_result': 'b2f9332e825a857a8af08e284287ac309266a4bef7e0d2feeb59a75a5b8b2f63', 'tentative': True}]}}
Process P5: Received DECISION from P2
Process P5: Processing DECISION from P2, ballot 0
Process P5: Updating blockchain from length 5 to 5
✓ Rebuilt balances from 5 blocks
Process P5: Blockchain updated! New length: 5
✓ Blockchain saved to p5.json
Process P5: Resetting proposer state and cancelling tasks
Process P5: Proposer reset complete
Process P5: Received queue from master
Process P5: Received queue_start from master
Process P5: Proposing new block with transaction Transaction(sender_id='P5', receiver_id='P1', amount=10)
Process P5: Starting PREPARE with ballot 0
Process P5: Got promise #1 from P3
Process P5: Got promise #2 from P1
Process P5: Got majority (2/2)!
Process P5: PREPARE succeeded with 2 promises

☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐
Created block:

☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐
Transaction(sender_id='P5', receiver_id='P1', amount=10)
prev_block's address: 4375512784
hash_pointer: caef3ac1ae663e55bf3cefca95fbee10ee7b54d9b5fe4bbb8cfc54ce67d47475
nonce: dRPYiIDqhJj3eTdl
hash w/ nonce: f8d3c45252166ce6d9ab628a5e8ec48bfd09b51cb579011335020fcb07eddc64
☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐

☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐

Created new block: 

☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐
Transaction(sender_id='P5', receiver_id='P1', amount=10)
prev_block's address: 4375512784
hash_pointer: caef3ac1ae663e55bf3cefca95fbee10ee7b54d9b5fe4bbb8cfc54ce67d47475
nonce: dRPYiIDqhJj3eTdl
hash w/ nonce: f8d3c45252166ce6d9ab628a5e8ec48bfd09b51cb579011335020fcb07eddc64
☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐☐

Process P5: Starting ACCEPT with ballot 0, value '{'blockchain': [{'sender_id': 'P1', 'receiver_id': 'P2', 'amount': 10, 'hash_pointer': '0000000000000000000000000000000000000000000000000000000000000000', 'nonce': '0vgj5w3ZB46MGI8z', 'hash_result': '90cd9df81b349bcb45cc43d9543a6de19f9c0bbc9877565c48b5e4e413a64cf3', 'tentative': False}, {'sender_id': 'P1', 'receiver_id': 'P2', 'amount': 10, 'hash_pointer': '562016e2d716b2123bfd43fcabccf81d8e247bbb64b277429e9645d7fceb51dc', 'nonce': 'Aeb1KaGF2K9nho7H', 'hash_result': '2bee451bab90d7b5699af1b93cffe934f54df70e75682ce81f45fa35f29be701', 'tentative': False}, {'sender_id': 'P1', 'receiver_id': 'P2', 'amount': 10, 'hash_pointer': '4a533ca14e8fdc9ec0b444a146e5779914f98c8502f96ddfc1d147142b42b130', 'nonce': '2lb4hTTEpH715apl', 'hash_result': 'e4f72b5aeb1caa6ff2ffec79e75cd4726a578a764f25bb2794182a096962b643', 'tentative': False}, {'sender_id': 'P3', 'receiver_id': 'P4', 'amount': 10, 'hash_pointer': '1897964683b5a256276789a03f0205c84d1d4306ee0986a459d418b8b3c986ea', 'nonce': 'lWB3rLPlFiJw7nWw', 'hash_result': '4aa2d72085b33382659d9dc136b44cb1e1cacd6e37a30f96259e9e75d6ea3511', 'tentative': False}, {'sender_id': 'P2', 'receiver_id': 'P3', 'amount': 10, 'hash_pointer': 'bc279bfdeb1e7daf68d8a38a69bfe2d39e0866305a9bc19873473b08d313c005', 'nonce': 'zIjXd26YdvRvopNz', 'hash_result': 'b2f9332e825a857a8af08e284287ac309266a4bef7e0d2feeb59a75a5b8b2f63', 'tentative': False}, {'sender_id': 'P5', 'receiver_id': 'P1', 'amount': 10, 'hash_pointer': 'caef3ac1ae663e55bf3cefca95fbee10ee7b54d9b5fe4bbb8cfc54ce67d47475', 'nonce': 'dRPYiIDqhJj3eTdl', 'hash_result': 'f8d3c45252166ce6d9ab628a5e8ec48bfd09b51cb579011335020fcb07eddc64', 'tentative': True}]}'
Process P5: Got accepted #1 from P4
Process P5: Got accepted #2 from P2
Process P5: Got majority accepts (2/2)!
Process P5: ACCEPT succeeded with 2 accepts
Process P5: Sending DECISION messages with ballot 0
Process P5: Sent DECISION to P4
Process P5: Sent DECISION to P3
Process P5: Sent DECISION to P1
Process P5: Sent DECISION to P2
Process P5: All DECISION messages sent
Process P5: Block proposal succeeded! ✅✅✅
Process P5: Updating blockchain from length 5 to 6
✓ Rebuilt balances from 6 blocks
Process P5: Blockchain updated! New length: 6
✓ Blockchain saved to p5.json
Process P5: Resetting proposer state and cancelling tasks
Process P5: Proposer reset complete
Success in proposing loop
P5 out of loop, will wait 18.32301722249976
Current transaction queue deque([])
Queue is empty, returning
Process P5: Received print_balance from master
